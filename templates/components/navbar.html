<script type="text/javascript">
    window.domain = {{ domain() | JSON }}
</script>
<nav id="navbar" class="navbar is-primary">
    <div class="navbar-brand">
        <a class="navbar-item navbar-logo" href="/home">
            {{ appName() }}
        </a>

        <a role="button" class="navbar-burger" id="navbar-burger" onclick="togglenavbar()">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div id="navbar" class="navbar-menu">
        <div class="navbar-start">
            <a class="navbar-item" href="/home">
                {{ t('navbar.home') }}
            </a>

            <a class="navbar-item" href="/leaderboard">
                {{ t('navbar.leaderboards') }}
            </a>


            {% if session.authenticated and session.user_data['is_staff'] %}
            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="/admin">
                    {{ t('navbar.admin') }}
                </a>
                <div class="navbar-dropdown">
                    <a class="navbar-item" href="/admin/dashboard">
                        {{ t('admin.base.dashboard') }}
                    </a>
                    <a class="navbar-item" href="/admin/users">
                        {{ t("admin.base.users") }}
                    </a>
                    <a class="navbar-item" href="/admin/restrictions">
                        {{ t("admin.base.restrictions") }}
                    </a>
                    <a class="navbar-item" href="/admin/beatmaps">
                        {{ t("admin.base.beatmaps") }}
                    </a>
                </div>
            </div>
            {% endif %}
        </div>

        <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable" style="align-items: center;">
                <div class="navbar-search">
                    <input autocomplete="off" type="text" placeholder='{{ t("navbar.looking-for-someone") }}'
                        id="u-search" oninput="searchUser()">
                </div>
                <div id="u-search-content" class="navbar-dropdown" style="display: none;">
                </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable">
                <i style="display: flex;" class="fa fa-globe navbar-link"></i>
                <div class="navbar-dropdown">
                    <a class="navbar-item" href="/language/zh_CN{{ request.path }}">
                        <img style="size: 20px; margin-right: 5px;" src="/static/images/flags/CN.png">
                        简体中文
                    </a>
                    <a class="navbar-item" href="/language/en_US{{ request.path }}">
                        <img style="size: 20px; margin-right: 5px;" src="/static/images/flags/US.png">
                        English - US
                    </a>
                    <a class="navbar-item" href="/language/en_GB{{ request.path }}">
                        <img style="size: 20px; margin-right: 5px;" src="/static/images/flags/GB.png">
                        English - Global
                    </a>
                </div>
            </div>

            {% if session.authenticated %}
            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link">
                    {{ session.user_data['name'] }}
                </a>
                <div class="navbar-dropdown">
                    <a class="navbar-item" href="/u/{{ session.user_data['id'] }}">
                        {{ t('navbar.profile') }}
                    </a>
                    <a class="navbar-item" href="/settings">
                        {{ t('navbar.settings') }}
                    </a>
                </div>
            </div>
            <div class="navbar-item">
                <a class="button is-light" href="/logout">
                    {{ t('navbar.logout') }}
                </a>
            </div>
            {% else %}
            <div class="navbar-item">
                <div class="buttons">
                    <a class="button is-primary" href="/register">
                        <strong>{{ t('global.sign-up') }}</strong>
                    </a>
                    <a class="button is-light" href="/login">
                        {{ t('global.log-in') }}
                    </a>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
    </div>
</nav>